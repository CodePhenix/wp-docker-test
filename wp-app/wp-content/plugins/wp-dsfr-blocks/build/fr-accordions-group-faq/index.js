(()=>{"use strict";const e=window.wp.blocks,t=window.React,a=window.wp.blockEditor,n=window.wp.i18n,o=window.wp.element,c=window.wp.components,r=window.wp.primitives,l=(0,t.createElement)(r.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,t.createElement)(r.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})),s=(0,t.createElement)(r.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,t.createElement)(r.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})),i=(0,t.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(r.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})),d=(0,t.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,t.createElement)(r.Path,{d:"M10 1c-5 0-9 4-9 9s4 9 9 9 9-4 9-9-4-9-9-9zm0 16c-3.9 0-7-3.1-7-7s3.1-7 7-7 7 3.1 7 7-3.1 7-7 7zm1-11H9v3H6v2h3v3h2v-3h3V9h-3V6zM10 1c-5 0-9 4-9 9s4 9 9 9 9-4 9-9-4-9-9-9zm0 16c-3.9 0-7-3.1-7-7s3.1-7 7-7 7 3.1 7 7-3.1 7-7 7zm1-11H9v3H6v2h3v3h2v-3h3V9h-3V6z"}));function m(e){return e+"-"+Math.round(16777215*Math.random()).toString(32)}function u({questions:e,onChange:r,isBlockSelected:u}){const[p,w]=(0,o.useState)("");e=[...e];const h=(t,a)=>{const n=e[t];e[t]=e[a],e[a]=n,r(e)};return(0,t.createElement)(t.Fragment,null,e.map(((o,d)=>(0,t.createElement)("div",{key:d,className:"fr-accordion"+(p===o.id&&u?" has-child-selected":""),"data-index":d},(0,t.createElement)("div",{className:"fr-accordion__editor-title-wrapper"},(0,t.createElement)("div",{className:"fr-accordion__editor-btns-group"},0!==d&&(0,t.createElement)(c.Button,{icon:l,className:"fr-accordion__editor-btn","aria-hidden":"true",label:(0,n.__)("Move up FAQs","faq-block"),tabIndex:"-1",onClick:()=>(e=>{h(e,e-1)})(d)}),d+1!==e.length&&(0,t.createElement)(c.Button,{icon:s,className:"fr-accordion__editor-btn","aria-hidden":"true",label:(0,n.__)("Move down FAQs","faq-block"),tabIndex:"-1",onClick:()=>(e=>{h(e,e+1)})(d)}),(0,t.createElement)(c.Button,{icon:i,iconSize:18,className:"fr-accordion__editor-btn","aria-hidden":"true",label:(0,n.__)("Remove FAQ","faq-block"),tabIndex:"-1",onClick:()=>{return t=d,e.splice(t,1),void r(e);var t}})),(0,t.createElement)("h3",{className:"fr-accordion__title"},(0,t.createElement)(a.RichText,{tagName:"span",className:"fr-accordion__btn",value:o.question,allowedFormats:[],onChange:t=>((t,a)=>{e[t].question=a,r(e)})(d,t),onClick:()=>{w(o.id)},placeholder:(0,n.__)("Question…?","faq-block")}))),(0,t.createElement)("div",{className:"fr-collapse"},(0,t.createElement)("div",null,(0,t.createElement)(a.RichText,{tagName:"p",value:o.answer,onChange:t=>((t,a)=>{e[t].answer=a,r(e)})(d,t),placeholder:(0,n.__)("Answer…","faq-block")})))))),(0,t.createElement)(c.Button,{icon:d,iconSize:18,className:"fr-accordion__editor-btn",label:(0,n.__)("Add a question","faq-block"),tabIndex:"-1",text:(0,n.__)("Add a question","faq-block"),onClick:()=>(e.push({id:m("fr-accordion"),collapseId:m("fr-collapse"),question:"",answer:""}),void r(e))}))}function p(e,t,a){e.className||(e.className=""),e.className=e.className.replace("wp-block-dsfr-"+t,void 0!==a?a:t),e.className=e.className.replace("wp-block","")}(0,e.registerBlockType)("dsfr/fr-accordions-group-faq",{edit:function({attributes:e,setAttributes:n,isSelected:o}){const{questions:c}=e,r=(0,a.useBlockProps)();return p(r,"fr-accordions-group-faq","fr-accordions-group"),(0,t.createElement)("div",{...r},(0,t.createElement)(u,{isBlockSelected:o,questions:c,onChange:e=>n({questions:e})}))},save:function({attributes:e}){const n=a.useBlockProps.save();return p(n,"fr-accordions-group-faq","fr-accordions-group"),(0,t.createElement)("div",{...n},e.questions.map(((e,n)=>e.question&&e.answer&&(0,t.createElement)("div",{key:n,className:"fr-accordion",itemProp:"mainEntity",itemType:"https://schema.org/Question"},(0,t.createElement)("h3",{className:"fr-accordion__title"},(0,t.createElement)(a.RichText.Content,{tagName:"button",className:"fr-accordion__btn","aria-expanded":"false","aria-controls":e.collapseId,value:e.question,itemProp:"name"})),(0,t.createElement)("div",{className:"fr-collapse",role:"region",id:e.collapseId,itemScope:!0,itemProp:"acceptedAnswer",itemType:"https://schema.org/Answer"},(0,t.createElement)("div",null,(0,t.createElement)(a.RichText.Content,{tagName:"p",value:e.answer,itemProp:"text"})))))))}})})();